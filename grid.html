<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
      crossorigin="anonymous"
    ></script>
    <style>
      .group {
        width: 200px;
        height: 200px;
      }
    </style>
    <script>
      let group1 = {
        name: "group1",
        id: "1",
        timers: ["1", "2", "3"],
        location: { x: 0, y: 0 }
      };
      let group2 = {
        name: "group2",
        id: "2",
        timers: ["4", "5", "6"],
        location: { x: 0, y: 1 }
      };
      let group3 = {
        name: "group3",
        id: "3",
        timers: ["7", "8", "9"],
        location: { x: 0, y: 2 }
      };
      // let row = [group1, group2, group3];
      //following has 2 rows and 3 cols
      var groups = [[group3, group2, group1], [group3]];
      var mainGrid = [[group3, group2, group1], [group3]];
      // check a row which has hisghest number of columns

      function createGroup(name) {
        if (groups.length === 0) {
          //it means no row
          // then show the button of add group at position row[0][0]
        }
        if (groups.length > 0) {
          //multiple rows are present
          //
        }
      }
      function renderRow(row) {
        let groupDivs = [];
        for (let colIndex = 0; colIndex < row.length; colIndex++) {
          const group = row[colIndex];
          const groupDiv = `<div class="col" id="${group.id}">${group.name}</div>`;
          groupDivs.push(groupDiv);
        }
        // let row = `<div class="row"></div>`;
        return `<div class="row" id={}></div>`;
      }
      function renderGroups() {
        let colors = ["#f2f2f2", "#b2b2b2"];
        for (let index = 0; index < mainGrid.length; index++) {
          const row = mainGrid[index];
          console.log("row", row, "at index", index);
          let rowId = index;
          for (let groupIndex = 0; groupIndex < row.length; groupIndex++) {
            const group = row[groupIndex];
            console.log("adding group in div", group);
            let groupDiv = `<div class="col-3 group" style="background-color:${colors[rowId]}" id="${group.id}_g"><label>${group.name}</label></div>`;
            $("#" + rowId).append(groupDiv);
          }
        }
        // mainGrid.forEach((row, index) => {
        //   let rowId = index;
        //   row.forEach(group => {
        //     let groupDiv = `<div class="col" id="${group.id}">${group.name}</div>`;
        //     $("#" + rowId).append(groupDiv);
        //   });
        // });

        //   $("#main").append("");
      }
      function renderAllRows() {
        console.log("in render all rows");
        mainGrid.forEach((row, index) => {
          console.log("Index of row", index);
          let div;
          if (index === 1)
            div = `<div class="row bg-primary " styles={height:40px}  id=${index}></div>`;
          else
            div = `<div class="row bg-primary " styles={height:60px}  id=${index}></div>`;
          $("#main").append(div);
        });
      }

      $().ready(() => {
        renderAllRows();
        renderGroups();
      });
    </script>
  </head>

  <body>
    <div class="container border vh-100 " id="main"></div>
  </body>
</html>
